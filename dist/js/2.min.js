webpackJsonp([2],{574:function(e,t,i){i(635);var a=i(94)(i(595),i(671),null,null);e.exports=a.exports},584:function(e,t,i){e.exports={default:i(585),__esModule:!0}},585:function(e,t,i){var a=i(19),s=a.JSON||(a.JSON={stringify:JSON.stringify});e.exports=function(e){return s.stringify.apply(s,arguments)}},595:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i(584),s=i.n(a),n=i(664),o=i.n(n);t.default={components:{specTable:o.a},data:function(){var e=this,t=this,i=function(t,i,a){e.isEdit&&0==e.renderSpecTable.spec_title.length&&0==e.renderSpecTable.specs.length&&0==e.renderSpecTable.spec_title_default.length?a():e.renderSpecTable.spec_title&&e.renderSpecTable.spec_title.length>0?a():a(new Error("请选择产品规格"))},a=function(t,i,a){"0"!=e.ruleForm.has_postage||e.ruleForm.f_id?a():a(new Error("请选择运费模板"))},s=function(t,i,a){e.isApply||""!=e.ruleForm.gc_id?a():a(new Error("请选择店铺分类"))};return{isApply:window.$isApply,isModify:!1,loading:!0,dialogVisibleSeeGoods:!1,ifamedata:{goods:{g_name:"",g_price:"",g_subtitle:"",g_images:"",g_description:""},goods_sku:[],goods_coupon:[],goods_spec:[]},iframeUrl:"//m.newgiftmall.com"+(window.location.port?":8001":"")+"/index/detail?id=1&preview=1",ableSelectAny:!1,isEdit:!!this.$route.query.id,uploadUrl:t.$uploadUrl,uploadParams:{imagePath:"goods",token:sessionStorage.getItem("__token__")},hideCircle:!0,langZh:t.$uploadLangZh,showCrop:!1,editorOption:{content:"",uploadUrl:t.$uploadUrl,placeholder:"请输入内容",modules:{toolbar:[["bold","italic","underline"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{color:[]},{background:[]}],[{align:[]}],["image"]]}},dialogVisible:!1,props:{value:"value",children:"children"},dialogImageUrl:"",anytype:"",labelPosition:"right",centerDialogVisible:!1,goodsList:[],shopCateList:[],freightList:[],dynamicTags:[],normalTags:[],inputVisible:!1,inputGoodVisible:!1,inputValue:"",inputGoodValue:"",mySpecList:[],mainProps:{value:"gc_id",label:"gc_name",children:"child"},renderSpecTable:{specs:[],spec_title:[],spec_title_default:[],spec_sku_price:[],spec_stock_num:[],spec_sku_nweight:[],spec_sku_volume:[],sku_ids:[]},origin_sku_obj:{},ruleForm:{has_postage:"0",g_images:"",gc_id:[],specs_arr:[],g_tags:[]},rules:{g_name:[{required:!0,message:"请输入产品名称",trigger:"blur"},{min:1,max:60,message:"字数不能超过60个字符",trigger:"blur"}],g_subtitle:[{required:!1,message:"请输入产品副标题",trigger:"blur"},{min:1,max:60,message:"字数不能超过60个字符",trigger:"blur"}],g_description:[{required:!1,message:"请输入产品描述",trigger:"blur"},{min:1,max:5e3,message:"字数不能超过5000个字符",trigger:"blur"}],c_id:[{required:!0,message:"请选择经营类目",trigger:"change"}],gc_id:[{required:!0,validator:s}],g_images:[{required:!0,message:"请上传至少1张商品图片",trigger:"change"}],g_price:[{required:!0,message:"请输入产品价格",trigger:"blur"}],has_postage:[{required:!0}],f_id:[{validator:a}],specs_arr:[{required:!0,validator:i}]}}},methods:{showGoodInput:function(){var e=this;this.inputGoodVisible=!0,this.$nextTick(function(t){e.$refs.saveGoodTagInput.$refs.input.focus()})},handleInputGoodConfirm:function(){var e=this.inputGoodValue,t=this;e.replace(/\s+/,"").length>0&&e.replace(/\s+/,"").length<6?t.ruleForm.g_tags.push(e):this.$message({message:"字数为1-5个字符",type:"warning"}),this.inputGoodVisible=!1,this.inputGoodValue=""},handleCloseGoodTag:function(e){this.ruleForm.g_tags.splice(this.ruleForm.g_tags.indexOf(e),1)},handleClickCancel:function(){window.history.go(-1)},handleSelctePic:function(){if("string"==typeof this.ruleForm.g_images&&this.ruleForm.g_images.split(",").length>3)return void this.$message({message:"超出上传数量限制",type:"warning"});this.showCrop=!this.showCrop},onChange:function(){this.$emit("input",this.ruleForm.content)},onFileChange:function(e){var t=this,i=e.target;if(0!=i.files.length){this.editor.focus(),i.files[0].size>1048576&&this.$alert("图片不能大于1M","图片尺寸过大",{confirmButtonText:"确定",type:"warning"});var a=new FormData;this.$message("图片上传中..."),a.append("file",i.files[0]),a.append("imagePath",this.uploadParams.imagePath),a.append("token",this.uploadParams.token),this.$axios.post(this.editorOption.uploadUrl,a).then(function(e){0==e.data.code?(t.$message({message:"上传成功",type:"success"}),t.editor.insertEmbed(t.editor.getSelection().index,"image",e.data.data.url)):t.$message({message:"上传失败",type:"warning"})}).catch(function(e){t.$message({message:"上传失败",type:"warning"})})}},imgClick:function(){if(this.editorOption.uploadUrl){var e=document.createElement("input");e.type="file",e.name=this.fileName,e.accept="image/jpeg,image/png,image/jpg,image/gif",e.onchange=this.onFileChange,e.click()}},addSpecDialogClose:function(e){},getMultiArrCombine:function(e){var t=e.length;if(t>=2){for(var i=e[0].length,a=e[1].length,s=i*a,n=new Array(s),o=0,l=0;l<i;l++)for(var r=0;r<a;r++)e[0][l]instanceof Array?n[o]=e[0][l].concat(e[1][r]):n[o]=[e[0][l]].concat(e[1][r]),o++;for(var d=new Array(t-1),l=2;l<e.length;l++)d[l-1]=e[l];return d[0]=n,this.getMultiArrCombine(d)}return e[0]},handleClickRenderTable:function(e){var t=this;this.isModify=e;var i=[],a=[],s=[],n=[],o=[],l=[],r=[],d=[];this.mySpecList.map(function(e,t){e.spec_title.length>0&&(i.push(e.spec_title),a.push(e.spec_title),s.push(e.spec))}),(this.getMultiArrCombine(i)||[]).map(function(e,i){n[i]=t.origin_sku_obj.price&&void 0!==t.origin_sku_obj.price[i]?t.origin_sku_obj.price[i]:"0",o[i]=t.origin_sku_obj.nums&&void 0!==t.origin_sku_obj.nums[i]?t.origin_sku_obj.nums[i]:"0",l[i]=t.origin_sku_obj.nweight&&void 0!==t.origin_sku_obj.nweight[i]?t.origin_sku_obj.nweight[i]:"0",d[i]=t.origin_sku_obj.volume&&void 0!==t.origin_sku_obj.volume[i]?t.origin_sku_obj.volume[i]:"0",r[i]=t.origin_sku_obj.id&&void 0!==t.origin_sku_obj.id[i]?t.origin_sku_obj.id[i]:"0"});var c=this.getMultiArrCombine(i)||[];this.renderSpecTable.spec_title=a,this.renderSpecTable.specs=s,this.renderSpecTable.spec_sku_price=n,this.renderSpecTable.spec_stock_num=o,this.renderSpecTable.spec_sku_nweight=l,this.renderSpecTable.spec_sku_volume=d,this.renderSpecTable.sku_ids=this.isModify?[]:r,c[0]instanceof Array?this.renderSpecTable.spec_title_default=c:this.renderSpecTable.spec_title_default=c.map(function(e){return[e]})},findTagsIndex:function(e){for(var t=0;t<this.mySpecList.length;t++)if(this.mySpecList[t].spec==e)return t;return-1},handleChooseSpec:function(){var e=this;this.dynamicTags.map(function(t){-1==e.findTagsIndex(t)&&e.mySpecList.push({spec:t,spec_title:[],inputVisible:!1,inputValue:""})}),this.centerDialogVisible=!1},handleAddTag:function(e){this.dynamicTags.push(e)},getNormal:function(){var e=this;this.$axios.post("/merchant/Goods/getLastSpecName").then(function(t){var i=t.data;0==i.code&&(e.normalTags=i.data instanceof Array&&i.data[0]?i.data[0].split(","):[])})},handleCloseTag:function(e,t,i){if(1==i)this.mySpecList.splice(t,1),this.dynamicTags.splice(t,1),this.handleClickRenderTable(!0);else if(2==i){var a=this.mySpecList[t];a.spec_title.splice(a.spec_title.indexOf(e),1),this.mySpecList.splice(t,1,a),this.handleClickRenderTable(!0)}else this.dynamicTags.splice(this.dynamicTags.indexOf(e),1)},showInput:function(e){var t=this;if("number"==typeof e)this.mySpecList[e].inputVisible=!0,this.$nextTick(function(i){t.$refs["saveTagInput"+e][0].$refs.input.focus()});else{if(5==this.dynamicTags.length)return this.$message({message:"超出最大限制！",type:"warning"}),!1;this.inputVisible=!0,this.$nextTick(function(e){t.$refs.saveTagInput.$refs.input.focus()})}},handleInputConfirm:function(e){if("number"==typeof e){var t=this.mySpecList[e].inputValue;t&&this.mySpecList[e].spec_title.push(t),this.mySpecList[e].inputVisible=!1,this.mySpecList[e].inputValue="",this.handleClickRenderTable(!0)}else{var i=this.inputValue;i&&this.dynamicTags.push(i),this.inputVisible=!1,this.inputValue=""}},jumpShopFreight:function(){this.$router.push("/infoSet_freight_detail")},getgoodsList:function(){var e=this;this.$axios.post("/merchant/Merchant/getCategory").then(function(t){var i=t.data;0==i.code&&(e.goodsList=i.data)})},getFreightList:function(){var e=this;this.$axios.post("/merchant/Freight/all").then(function(t){var i=t.data;0==i.code&&(e.freightList=i.data)})},getShopCateList:function(){var e=this;this.$axios.post("/merchant/GoodsClass/getList").then(function(t){var i=t.data;if(0==i.code){var a=[];i.data.map(function(e){var t={gc_id:e.parent.gc_id,gc_name:e.parent.gc_name};e.child&&e.child instanceof Array&&e.child.length>0&&(t.child=e.child),a.push(t)}),e.shopCateList=a}})},arrayIndexof:function(e){for(var t=[],i=!0,a=0;a<e.length;a++)-1==t.indexOf(e[a])?(t.push(e[a]),i=!0):i=!1;return i},submitAddData:function(e){var t=this,i=e.g_tags.split(",");this.anytype=this.arrayIndexof(i),this.anytype?this.$axios.post("/merchant/Goods/addEdit",e).then(function(e){0==e.data.code&&(t.$message({message:t.isEdit?"恭喜你，修改成功！":"恭喜你，添加成功！",type:"success"}),setTimeout(function(){t.$router.push({path:"/goods_my_list"})},100))}):this.$message({type:"warning",message:"商品标签名称不能重复"})},handleClickSave:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var i={g_name:t.ruleForm.g_name,g_subtitle:t.ruleForm.g_subtitle,g_description:t.ruleForm.g_description,g_tags:t.ruleForm.g_tags.join(","),gc_id:t.ruleForm.gc_id[t.ruleForm.gc_id.length-1],f_id:t.ruleForm.f_id,c_id:t.ruleForm.c_id,g_price:t.ruleForm.g_price,g_images:t.ruleForm.g_images,specs_data:s()(t.renderSpecTable)};return t.isEdit&&(i.g_id=t.$route.query.id),t.submitAddData(i),!1}return!1})},handleClickPreview:function(e){var t=this,i=this;this.ifamedata.goods.g_name=this.ruleForm.g_name,this.ifamedata.goods.g_price=this.ruleForm.g_price,this.ifamedata.goods.g_subtitle=this.ruleForm.g_subtitle,this.ifamedata.goods.g_images=this.ruleForm.g_images,this.ifamedata.goods.g_description=this.ruleForm.g_description,this.ifamedata.goods.g_salenum=this.ruleForm.g_salenum;for(var a=s()(this.renderSpecTable),n=JSON.parse(a),o=[],l=0;l<n.specs.length;l++){for(var o=n.spec_title[l],r=[],d=0;d<o.length;d++)r.push({gsv_name:o[d],gsv_id:l+""+d});this.ifamedata.goods_spec.push({spec:n.specs[l],spec_value:r})}for(var c=0;c<n.spec_sku_price.length;c++)!function(e){var i=[];n.spec_title_default[e].map(function(e){for(var t=0;t<n.spec_title.length;t++){var a=n.spec_title[t].indexOf(e);if(a>-1){i.push(t+""+a);break}}}),t.ifamedata.goods_sku.push({sku_price:n.spec_sku_price[e]||"0",sku_stock_num:n.spec_stock_num[e]||"0",gsv_ids:i.join(",")})}(c);this.$refs[e].validate(function(e){if(!e)return!1;i.dialogVisibleSeeGoods=!0,setTimeout(function(){t.loading=!1;var e=document.getElementById("iframeId");e.onload=function(){e.contentWindow.postMessage(i.ifamedata,"*")}},0)})},imgUpLoadSuccess:function(e){var t=this.ruleForm.g_images.split(",");if(1==t.length&&""==t[0]&&(t=[]),t.push(e.data.url),this.ruleForm.g_images=t.join(","),document.getElementsByClassName("vicp-operate")[1].childNodes[0]){var i=document.getElementsByClassName("vicp-operate")[1],a=document.getElementsByClassName("vicp-operate")[1].childNodes[0];i.removeChild(a)}},handleRemove:function(e){var t=this.ruleForm.g_images.split(",");t.splice(e,1),this.ruleForm.g_images=t.join(",")},handlePictureCardPreview:function(e){this.dialogImageUrl=e,this.dialogVisible=!0},addRules:function(){this.centerDialogVisible=!0},getDataFunction:function(){var e=this;this.$axios.post("/merchant/Goods/getDetail",{g_id:this.$route.query.id}).then(function(t){var i=t.data;if(0==i.code){var a=i.data||{},s={},n=a.gc_id.toString().split(",");s.has_postage=a.f_id&&"0"!=a.f_id?"0":"1",s.g_name=a.g_name,s.g_subtitle=a.g_subtitle,s.g_description=a.g_description,s.gc_id=n.map(function(e){return parseInt(e)}),s.g_images=a.g_images,s.g_price=a.g_price,s.g_tags=""!=a.g_tags?a.g_tags.split(","):[],s.f_id=a.f_id,s.c_id=a.c_id+"",s.g_salenum=a.g_salenum||"0",e.ruleForm=s,e.origin_sku_obj=e.getOriginSku(a.goods_sku),e.mySpecList=e.getOriginSpec(a.goods_spec),e.handleClickRenderTable(!1)}})},getOriginSku:function(e){var t={id:[],price:[],nweight:[],volume:[],nums:[]};return e&&e instanceof Array&&e.map(function(e){t.id.push(e.sku_id),t.price.push(e.sku_price+""),t.nweight.push(e.sku_nweight+""),t.volume.push(e.sku_volume+""),t.nums.push(e.sku_stock_num+"")}),t},getOriginSpec:function(e){var t=this,i=[];return e&&e instanceof Array&&e.map(function(e){var a=[];e.spec_value.map(function(e){a.push(e.gsv_name)}),i.push({inputValue:"",inputVisible:!1,spec:e.spec,spec_title:a}),t.dynamicTags.push(e.spec)}),i}},created:function(){this.getgoodsList(),this.getShopCateList(),this.getFreightList(),this.getNormal(),this.isEdit&&this.getDataFunction()},computed:{editor:function(){return this.$refs.myTextEditor.quill},hasPostage:function(){return this.ruleForm.has_postage}},watch:{hasPostage:function(e){"1"==e&&(this.ruleForm.f_id="")}},mounted:function(){this.$refs.myTextEditor.quill.getModule("toolbar").addHandler("image",this.imgClick)}}},597:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={props:{renderTable:Object},computed:{},watch:{},methods:{handleClickSame:function(e){this.renderTable[e]=new Array(this.renderTable[e].length).fill(this.renderTable[e][0])}},created:function(){}}},616:function(e,t,i){var a=i(570);t=e.exports=i(568)(!1),t.push([e.i,"\n.goods-add-wrap .ql-snow .ql-picker {\n  height: auto;\n}\n.goods-add-wrap .img-arr li {\n  float: left;\n  width: 148px;\n  margin: 20px 10px 20px 0;\n  position: relative;\n}\n.goods-add-wrap .img-arr li .close {\n    position: absolute;\n    height: 20px;\n    width: 20px;\n    right: -10px;\n    top: -10px;\n    background-size: 20px auto;\n    background-repeat: no-repeat;\n}\n.goods-add-wrap .add-spec-dialog h5 {\n  margin-bottom: 20px;\n  margin-top: 10px;\n}\n.goods-add-wrap .my-specs-wrap {\n  margin-top: 20px;\n}\n.goods-add-wrap .my-specs-wrap .el-tag {\n    margin-bottom: 20px;\n    background-color: rgba(64, 158, 255, 0);\n}\n.goods-add-wrap .my-specs-wrap .tag-title {\n    padding: 0 20px;\n    height: 50px;\n    line-height: 50px;\n    font-size: 14px;\n    position: relative;\n    margin-right: 50px;\n    background-color: rgba(64, 158, 255, 0.1);\n}\n.goods-add-wrap .my-specs-wrap .tag-title b.el-icon-arrow-right {\n      height: 20px;\n      width: 20px;\n      position: absolute;\n      right: -40px;\n      top: 50%;\n      margin-top: -10px;\n}\n.goods-add-wrap .el-tag {\n  margin-right: 10px;\n}\n.goods-add-wrap .el-tag {\n  margin-bottom: 10px;\n}\n.goods-add-wrap .button-new-tag {\n  height: 32px;\n  line-height: 30px;\n  padding-top: 0;\n  padding-bottom: 0;\n}\n.goods-add-wrap .input-new-tag {\n  width: 90px;\n  margin-left: 10px;\n  vertical-align: bottom;\n}\n.goods-add-wrap textarea {\n  resize: none;\n}\n.goods-add-wrap .form-btn {\n  width: 134px;\n  margin-top: 40px;\n}\n.goods-add-wrap .el-input {\n  width: 330px;\n}\n.goods-add-wrap .el-input__inner {\n  border-radius: 6px;\n}\n.goods-add-wrap .el-input__suffix-inner {\n  color: #353535;\n  margin-right: 10px;\n}\n.goods-add-wrap .add-descript {\n  width: 250px;\n  height: 250px;\n  border: 1px solid #ccc;\n}\n.goods-add-wrap .pic-font {\n  color: #ccc;\n}\n.goods-add-wrap .item-btm em {\n  font-size: 12px;\n  color: #878d99;\n  margin-right: 15px;\n}\n.goods-add-wrap .city-select-wrap .el-input {\n  width: 106px;\n}\n.goods-add-wrap .iframe-box {\n  overflow: hidden;\n  box-sizing: border-box;\n  display: -ms-flexbox;\n  display: flex;\n  -ms-flex-align: center;\n      align-items: center;\n  -ms-flex-pack: center;\n      justify-content: center;\n}\n.goods-add-wrap .iframe-box .iframe-phone {\n    background-image: url("+a(i(659))+");\n    background-repeat: no-repeat;\n    background-size: 100%;\n    height: 867px;\n    padding: 100px 16px;\n    box-sizing: border-box;\n    width: 100%;\n    overflow: hidden;\n}\n.goods-add-wrap .preview-dialog .el-dialog {\n  border-radius: 60px;\n}\n.goods-add-wrap .preview-dialog .el-dialog .el-dialog__header {\n    display: none;\n}\n.goods-add-wrap .preview-dialog .el-dialog .el-dialog__body {\n    padding: 0;\n}\n.goods-add-wrap .quill-editor h1 {\n  font-size: 2em;\n  margin: .67em 0;\n}\n.goods-add-wrap .quill-editor h2 {\n  font-size: 1.5em;\n  margin: .75em 0;\n}\n.goods-add-wrap .quill-editor h3 {\n  font-size: 1.17em;\n  margin: .83em 0;\n}\n.goods-add-wrap .quill-editor h5 {\n  font-size: .83em;\n  margin: 1.5em 0;\n}\n.goods-add-wrap .quill-editor h6 {\n  font-size: .75em;\n  margin: 1.67em 0;\n}\n.goods-add-wrap .quill-editor h1, .goods-add-wrap .quill-editor h2, .goods-add-wrap .quill-editor h3, .goods-add-wrap .quill-editor h4, .goods-add-wrap .quill-editor h5, .goods-add-wrap .quill-editor h6, .goods-add-wrap .quill-editor b, .goods-add-wrap .quill-editor strong {\n  font-weight: bold;\n}\n.goods-add-wrap .quill-editor h4, .goods-add-wrap .quill-editor p, .goods-add-wrap .quill-editor blockquote, .goods-add-wrap .quill-editor ul, .goods-add-wrap .quill-editor fieldset, .goods-add-wrap .quill-editor form, .goods-add-wrap .quill-editor ol, .goods-add-wrap .quill-editor dl, .goods-add-wrap .quill-editor dir, .goods-add-wrap .quill-editor menu {\n  margin: 1.12em 0;\n}\n.goods-add-wrap .quill-editor ul, .goods-add-wrap .quill-editor ol, .goods-add-wrap .quill-editor li {\n  display: list-item;\n  list-style: decimal;\n}\n.goods-add-wrap .quill-editor table {\n  border-spacing: 2px;\n}\n.goods-add-wrap .quill-editor thead, .goods-add-wrap .quill-editor tbody, .goods-add-wrap .quill-editor tfoot {\n  vertical-align: middle;\n}\n.goods-add-wrap .quill-editor td, .goods-add-wrap .quill-editor th {\n  vertical-align: inherit;\n}\n.goods-add-wrap .quill-editor s, .goods-add-wrap .quill-editor strike, .goods-add-wrap .quill-editor del {\n  text-decoration: line-through;\n}\n.goods-add-wrap .quill-editor hr {\n  border: 1px inset;\n}\n.goods-add-wrap .quill-editor i, .goods-add-wrap .quill-editor cite, .goods-add-wrap .quill-editor em, .goods-add-wrap .quill-editor var, .goods-add-wrap .quill-editor address {\n  font-style: italic;\n}\n.goods-add-wrap .quill-editor ol, .goods-add-wrap .quill-editor ul, .goods-add-wrap .quill-editor dir, .goods-add-wrap .quill-editor menu, .goods-add-wrap .quill-editor dd {\n  margin-left: 40px;\n}\n",""])},628:function(e,t,i){t=e.exports=i(568)(!1),t.push([e.i,"\n.spec-table-wrap {\n  position: absolute;\n  left: 0;\n  overflow: scroll;\n}\n.spec-table.el-table--border {\n  border: none;\n}\n.spec-table.el-table--border:after, .spec-table.el-table--border:before {\n    width: 0;\n    height: 0;\n}\n.spec-table.el-table thead th {\n  border-top: 1px solid #ebeef5;\n  background: #ecf5ff;\n  color: #353535;\n}\n.spec-table.el-table thead th:nth-of-type(1),\n.spec-table.el-table .el-table__body, .spec-table.el-table .td-1 {\n  border-left: 1px solid #ebeef5;\n}\n.spec-table.el-table th, .spec-table.el-table td {\n  min-width: 100px;\n}\n.spec-table.el-table input {\n  width: 118px;\n}\n.spec-table.el-table .cell .btn {\n  color: #409EFF;\n  font-size: 12px;\n  margin-left: 4px;\n  cursor: pointer;\n}\n",""])},635:function(e,t,i){var a=i(616);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i(569)("888560c4",a,!0)},647:function(e,t,i){var a=i(628);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);i(569)("719d9018",a,!0)},659:function(e,t,i){e.exports=i.p+"img/phone_icon.5909f66.png"},664:function(e,t,i){i(647);var a=i(94)(i(597),i(684),null,null);e.exports=a.exports},671:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"goods-add-wrap"},[i("section",{staticClass:"com-content-head"},[i("el-breadcrumb",{staticClass:"crumb-nav",attrs:{"separator-class":"el-icon-arrow-right"}},[i("el-breadcrumb-item",{attrs:{to:{path:"/goods_add"}}},[e._v("商品管理")]),e._v(" "),i("el-breadcrumb-item",[e._v(e._s(e.isEdit?"编辑商品":"添加商品"))])],1),e._v(" "),i("h6",[e._v(e._s(e.isEdit?"编辑商品":"添加商品"))])],1),e._v(" "),i("el-form",{ref:"ruleForm",staticClass:"com-content-body",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"商品名称",prop:"g_name"}},[i("el-input",{attrs:{maxlength:"60",placeholder:"请输入商品名称（如：ins流行包包 夏季热卖）"},model:{value:e.ruleForm.g_name,callback:function(t){e.$set(e.ruleForm,"g_name",t)},expression:"ruleForm.g_name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"副标题",prop:"g_subtitle"}},[i("el-input",{attrs:{placeholder:"请输入副标题（如：中秋节送礼佳品）"},model:{value:e.ruleForm.g_subtitle,callback:function(t){e.$set(e.ruleForm,"g_subtitle",t)},expression:"ruleForm.g_subtitle"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"经营类目",prop:"c_id"}},[i("el-select",{attrs:{placeholder:"请选择分类"},model:{value:e.ruleForm.c_id,callback:function(t){e.$set(e.ruleForm,"c_id",t)},expression:"ruleForm.c_id"}},e._l(e.goodsList,function(e){return i("el-option",{key:e.c_id,attrs:{label:e.name,value:e.c_id}})}))],1),e._v(" "),i("el-form-item",{attrs:{label:"商品图片",prop:"g_images"}},[e.ruleForm.g_images?i("ul",{staticClass:"img-arr clearfix el-upload-list--picture-card"},e._l(e.ruleForm.g_images.split(","),function(t,a){return i("li",{key:a},[i("span",{staticClass:"el-upload-list__item-actions"},[i("span",{staticClass:"el-upload-list__item-preview"},[i("i",{staticClass:"el-icon-zoom-in",on:{click:function(i){e.handlePictureCardPreview(t)}}})]),i("span",{staticClass:"el-upload-list__item-delete"},[i("i",{staticClass:"el-icon-delete",on:{click:function(t){e.handleRemove(a)}}})])]),e._v(" "),i("img",{attrs:{src:t}})])})):e._e(),e._v(" "),i("div",{staticClass:"el-upload el-upload--picture-card",on:{click:e.handleSelctePic}},[i("i",{staticClass:"el-icon-plus"})]),e._v(" "),i("vue-crop-upload",{attrs:{field:"file",noCircle:e.hideCircle,width:600,height:600,url:e.uploadUrl,params:e.uploadParams,langExt:e.langZh,"img-format":"png"},on:{"crop-upload-success":e.imgUpLoadSuccess},model:{value:e.showCrop,callback:function(t){e.showCrop=t},expression:"showCrop"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"产品描述",prop:"g_description"}},[i("quill-editor",{ref:"myTextEditor",staticStyle:{width:"600px",height:"300px","margin-bottom":"80px"},attrs:{options:e.editorOption},on:{change:e.onChange},model:{value:e.ruleForm.g_description,callback:function(t){e.$set(e.ruleForm,"g_description",t)},expression:"ruleForm.g_description"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"产品规格",prop:"specs_arr"}},[i("el-button",{attrs:{type:"primary"},on:{click:e.addRules}},[e._v("添加规格")]),e._v(" "),i("ul",{staticClass:"my-specs-wrap"},e._l(e.mySpecList,function(t,a){return i("li",{key:a},[i("el-tag",{staticClass:"tag-title",attrs:{closable:""},on:{close:function(i){e.handleCloseTag(t,a,1)}}},[e._v(e._s(t.spec)),i("b",{staticClass:"el-icon-arrow-right"})]),e._v(" "),e._l(t.spec_title,function(t){return i("el-tag",{key:t,attrs:{closable:"","disable-transitions":!1},on:{close:function(i){e.handleCloseTag(t,a,2)}}},[e._v("\n            "+e._s(t)+"\n          ")])}),e._v(" "),t.inputVisible?i("el-input",{ref:"saveTagInput"+a,refInFor:!0,staticClass:"input-new-tag",staticStyle:{width:"80px","vertical-align":"middle"},attrs:{size:"small"},on:{blur:function(t){e.handleInputConfirm(a)}},nativeOn:{keyup:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key,"Enter"))return null;e.handleInputConfirm(a)}},model:{value:t.inputValue,callback:function(i){e.$set(t,"inputValue",i)},expression:"item.inputValue"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(){return e.showInput(a)}}},[e._v("+添加规格值")])],2)})),e._v(" "),i("specTable",{attrs:{renderTable:e.renderSpecTable}})],1),e._v(" "),e.isApply?e._e():i("el-form-item",{attrs:{label:"店铺分类",prop:"gc_id"}},[i("el-cascader",{attrs:{"change-on-select":!0,"show-all-levels":!1,props:e.mainProps,options:e.shopCateList},model:{value:e.ruleForm.gc_id,callback:function(t){e.$set(e.ruleForm,"gc_id",t)},expression:"ruleForm.gc_id"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"市场价",prop:"g_price"}},[i("el-input",{attrs:{placeholder:"请输入产品市场价"},model:{value:e.ruleForm.g_price,callback:function(t){e.$set(e.ruleForm,"g_price",t)},expression:"ruleForm.g_price"}},[i("i",{attrs:{slot:"suffix"},slot:"suffix"},[e._v("元")])])],1),e._v(" "),i("el-form-item",{attrs:{label:"商品标签",prop:"g_tags"}},[e._l(e.ruleForm.g_tags,function(t){return i("el-tag",{key:t,attrs:{closable:"","disable-transitions":!1},on:{close:function(i){e.handleCloseGoodTag(t)}}},[e._v("\n          "+e._s(t)+"\n        ")])}),e._v(" "),e.inputGoodVisible?i("el-input",{ref:"saveGoodTagInput",staticClass:"input-new-tag",staticStyle:{width:"80px","vertical-align":"middle"},attrs:{size:"small"},on:{blur:e.handleInputGoodConfirm},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleInputGoodConfirm(t):null}},model:{value:e.inputGoodValue,callback:function(t){e.inputGoodValue=t},expression:"inputGoodValue"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:e.showGoodInput}},[e._v("+请输入标签")])],2),e._v(" "),i("el-form-item",{attrs:{label:"运费设置",prop:"has_postage"}},[i("el-radio",{attrs:{label:"0"},model:{value:e.ruleForm.has_postage,callback:function(t){e.$set(e.ruleForm,"has_postage",t)},expression:"ruleForm.has_postage"}},[e._v("快递")]),e._v(" "),i("el-radio",{attrs:{label:"1"},model:{value:e.ruleForm.has_postage,callback:function(t){e.$set(e.ruleForm,"has_postage",t)},expression:"ruleForm.has_postage"}},[e._v("包邮")])],1),e._v(" "),i("el-form-item",{attrs:{label:"",prop:"f_id"}},[i("el-select",{attrs:{disabled:"1"==e.ruleForm.has_postage,placeholder:"请选择运费模板"},model:{value:e.ruleForm.f_id,callback:function(t){e.$set(e.ruleForm,"f_id",t)},expression:"ruleForm.f_id"}},e._l(e.freightList,function(e){return i("el-option",{key:e.f_id,attrs:{label:e.name,value:e.f_id}})})),e._v(" "),i("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.jumpShopFreight}},[e._v("+添加运费模板")])],1),e._v(" "),i("el-button",{staticClass:"form-btn",staticStyle:{"margin-left":"58px"},attrs:{type:"primary"},on:{click:function(t){e.handleClickSave("ruleForm")}}},[e._v("提交审核")]),e._v(" "),i("el-button",{staticClass:"form-btn",attrs:{type:"primary",plain:""},on:{click:function(t){e.handleClickPreview("ruleForm")}}},[e._v("预览")]),e._v(" "),i("el-button",{staticClass:"form-btn",attrs:{type:"primary",plain:""},on:{click:e.handleClickCancel}},[e._v("取消")])],1),e._v(" "),i("el-dialog",{staticClass:"add-spec-dialog",attrs:{title:"添加规格",width:"500px",visible:e.centerDialogVisible,center:""},on:{"update:visible":function(t){e.centerDialogVisible=t},close:e.addSpecDialogClose}},[i("div",[i("section",[i("h5",[e._v("我的规格")]),e._v(" "),e._l(e.dynamicTags,function(t){return i("el-tag",{key:t,attrs:{closable:"","disable-transitions":!1},on:{close:function(i){e.handleCloseTag(t)}}},[e._v("\n            "+e._s(t)+"\n          ")])}),e._v(" "),e.inputVisible?i("el-input",{ref:"saveTagInput",staticClass:"input-new-tag",staticStyle:{width:"80px","vertical-align":"middle"},attrs:{size:"small"},on:{blur:e.handleInputConfirm},nativeOn:{keyup:function(t){return"button"in t||!e._k(t.keyCode,"enter",13,t.key,"Enter")?e.handleInputConfirm(t):null}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}}):i("el-button",{staticClass:"button-new-tag",attrs:{size:"small"},on:{click:function(){return e.showInput()}}},[e._v("+添加标签")])],2),e._v(" "),i("section",[i("h5",[e._v("常用规格")]),e._v(" "),e._l(e.normalTags,function(t){return i("el-tag",{key:t,attrs:{type:"success"}},[i("span",{staticStyle:{cursor:"pointer"},on:{click:function(i){e.handleAddTag(t)}}},[e._v(e._s(t))])])})],2)]),e._v(" "),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.handleChooseSpec}},[e._v("确 定")])],1)]),e._v(" "),i("el-dialog",{attrs:{visible:e.dialogVisible},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("img",{attrs:{width:"100%",src:e.dialogImageUrl,alt:""}})]),e._v(" "),i("el-dialog",{staticClass:"preview-dialog",attrs:{visible:e.dialogVisibleSeeGoods,width:"400px"},on:{"update:visible":function(t){e.dialogVisibleSeeGoods=t}}},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"iframe-box"},[i("div",{staticClass:"iframe-phone"},[i("iframe",{ref:"iframedata",staticStyle:{width:"100%",height:"580px"},attrs:{name:"myiframe",id:"iframeId",src:e.iframeUrl}})])])])],1)},staticRenderFns:[]}},684:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{directives:[{name:"show",rawName:"v-show",value:e.renderTable.specs.length>0,expression:"renderTable.specs.length>0"}]},[i("div",{staticClass:"spec-table el-table el-table--fit el-table--border el-table--enable-row-hover el-table--enable-row-transition"},[e._m(0),e._v(" "),i("div",{staticClass:"el-table__header-wrapper"},[i("table",{staticClass:"el-table__header",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[i("colgroup",[e._l(e.renderTable.specs,function(e,t){return i("col",{key:t,attrs:{name:"el-table_26_column_"+t,width:"140"}})}),e._v(" "),i("col",{attrs:{name:"el-table_26_column_04",width:"140"}}),e._v(" "),i("col",{attrs:{name:"el-table_26_column_03",width:"140"}}),e._v(" "),i("col",{attrs:{name:"el-table_26_column_02",width:"140"}}),e._v(" "),i("col",{attrs:{name:"el-table_26_column_01",width:"140"}})],2),e._v(" "),i("thead",{staticClass:"has-gutter"},[i("tr",{},[e._l(e.renderTable.specs,function(t,a){return i("th",{key:a,class:["el-table_26_column_"+a,"is-leaf"],attrs:{colspan:"1",rowspan:"1"}},[i("div",{staticClass:"cell"},[e._v(e._s(t))])])}),e._v(" "),i("th",{staticClass:"el-table_26_column_04 is-leaf",staticStyle:{"border-right":"1px solid #e6ebf5"},attrs:{colspan:"1",rowspan:"1"}},[i("div",{staticClass:"cell"},[i("em",[e._v("价格")]),i("span",{staticClass:"btn",on:{click:function(t){e.handleClickSame("spec_sku_price")}}},[e._v("统一价格")])])]),e._v(" "),i("th",{staticClass:"el-table_26_column_03 is-leaf",attrs:{colspan:"1",rowspan:"1"}},[i("div",{staticClass:"cell"},[i("em",[e._v("库存")]),i("span",{staticClass:"btn",on:{click:function(t){e.handleClickSame("spec_stock_num")}}},[e._v("统一库存")])])]),e._v(" "),i("th",{staticClass:"el-table_26_column_02 is-leaf",staticStyle:{"border-right":"1px solid #e6ebf5"},attrs:{colspan:"1",rowspan:"1"}},[i("div",{staticClass:"cell"},[i("em",[e._v("重量")]),i("span",{staticClass:"btn",on:{click:function(t){e.handleClickSame("spec_sku_nweight")}}},[e._v("统一重量")])])]),e._v(" "),i("th",{staticClass:"el-table_26_column_01 is-leaf",attrs:{colspan:"1",rowspan:"1"}},[i("div",{staticClass:"cell"},[i("em",[e._v("体积")]),i("span",{staticClass:"btn",on:{click:function(t){e.handleClickSame("spec_sku_volume")}}},[e._v("统一体积")])])])],2)])])]),e._v(" "),i("div",{staticClass:"el-table__body-wrapper"},[i("table",{staticClass:"el-table__body",attrs:{cellspacing:"0",cellpadding:"0",border:"0"}},[i("colgroup",[e._l(e.renderTable.spec_title_default,function(e,t){return i("col",{key:t,attrs:{name:"el-table_26_column_"+t,width:"140"}})}),e._v(" "),i("col",{attrs:{name:"el-table_26_column_04",width:"140"}}),e._v(" "),i("col",{attrs:{name:"el-table_26_column_03",width:"140"}}),e._v(" "),i("col",{attrs:{name:"el-table_26_column_02",width:"140"}}),e._v(" "),i("col",{attrs:{name:"el-table_26_column_01",width:"140"}})],2),e._v(" "),i("tbody",e._l(e.renderTable.spec_title_default,function(t,a){return i("tr",{key:a,staticClass:"el-table__row"},[e._l(t,function(t,a){return i("td",{key:a,class:["el-table_26_column_"+a,{"td-1":0==a}]},[i("div",{staticClass:"cell"},[e._v(e._s(t))])])}),e._v(" "),i("td",{staticClass:"el-table_26_column_04"},[i("div",{staticClass:"cell"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.renderTable.spec_sku_price[a],expression:"renderTable.spec_sku_price[index4]"}],domProps:{value:e.renderTable.spec_sku_price[a]},on:{input:function(t){t.target.composing||e.$set(e.renderTable.spec_sku_price,a,t.target.value)}}})])]),e._v(" "),i("td",{staticClass:"el-table_26_column_03"},[i("div",{staticClass:"cell"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.renderTable.spec_stock_num[a],expression:"renderTable.spec_stock_num[index4]"}],domProps:{value:e.renderTable.spec_stock_num[a]},on:{input:function(t){t.target.composing||e.$set(e.renderTable.spec_stock_num,a,t.target.value)}}})])]),e._v(" "),i("td",{staticClass:"el-table_26_column_02"},[i("div",{staticClass:"cell"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.renderTable.spec_sku_nweight[a],expression:"renderTable.spec_sku_nweight[index4]"}],domProps:{value:e.renderTable.spec_sku_nweight[a]},on:{input:function(t){t.target.composing||e.$set(e.renderTable.spec_sku_nweight,a,t.target.value)}}})])]),e._v(" "),i("td",{staticClass:"el-table_26_column_01"},[i("div",{staticClass:"cell"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.renderTable.spec_sku_volume[a],expression:"renderTable.spec_sku_volume[index4]"}],domProps:{value:e.renderTable.spec_sku_volume[a]},on:{input:function(t){t.target.composing||e.$set(e.renderTable.spec_sku_volume,a,t.target.value)}}})])])],2)}))])])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"hidden-columns"},[i("div"),e._v(" "),i("div"),e._v(" "),i("div")])}]}}});