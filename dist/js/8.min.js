webpackJsonp([8],{581:function(e,t,a){a(640);var r=a(94)(a(605),a(676),null,null);e.exports=r.exports},605:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(95),o=a.n(r),n=a(65),l=a.n(n);t.default={data:function(){return{time1:"",time2:"",search:{order_info_state:"0",order_user_state:"0",order_status:"-1"},list:[],total:"",msg:"订单列表",currentPage:1,sg:[],options:[{value:"0",label:"订单编号"},{value:"1",label:"物流编号"}],typeState:[{value:"0",label:"收货人"},{value:"1",label:"用户账号"}],typeOptions:[{value:"-1",label:"全部"},{value:"0",label:"待付款"},{value:"1",label:"待发货"},{value:"2",label:"待收货"},{value:"3",label:"已完成"},{value:"4",label:"已取消"}]}},methods:{objectSpanMethod:function(e){var t=e.row,a=(e.column,e.rowIndex,e.columnIndex);if(0===a||1===a||5===a||6===a||7===a||8===a)return void 0==t.ddd&&t.lengthNum>1&&void 0!=t.lengthNum?[t.lengthNum,1]:void 0!=t.ddd?[0,0]:[1,1]},gotoDeliveryPage:function(e){this.$router.push({path:"/order_my_delivery",query:{id:e.o_id}})},handleClick:function(e){this.$router.push({path:"/order_my_detail",query:{id:e.o_id}})},enquiriesFunction:function(e){var t=this;this.$axios.post("/merchant/Order/getList",e).then(function(e){var a=e.data;if(0==a.code){t.list=a.data,t.total=a.data.total;var r=[],o=0;t.list.data.map(function(e,a){var n=e.order_goods.length;e.order_goods.map(function(a,l){var s=t.copyObj(e);s.ct_num=a.ct_num,s.ct_price=a.ct_price,s.g_name=a.g_name,s.sku_spec=a.sku_spec,0==l&&n>1&&(s.lengthNum=n,s.indexNum=o),0!=l&&n>1&&(s.ddd=n),r.push(s),o++})}),t.list.data=r}else t.list=""})},copyObj:function(e){if("object"!=(void 0===e?"undefined":l()(e)))return e;var t={};for(var a in e)t[a]=this.copyObj(e[a]);return t},searchBtnEvent:function(e){e.page=1,this.enquiriesFunction(e)},handleCurrentChange:function(e){this.currentPage=parseInt(e),this.search.page=this.currentPage,this.enquiriesFunction(this.search)},handleSizeChange:function(e){this.search.pagenum=e,this.search.page="1",this.enquiriesFunction(this.search)},handleOutputFiles:function(e){this.$axios.post("/api/shop/order/getAdminOrderList",o()({export_files:"export",is_export:1},e))}},created:function(){this.search.pagenum="10",this.search.page="1",this.enquiriesFunction(this.search)}}},621:function(e,t,a){t=e.exports=a(568)(!1),t.push([e.i,"\n.order-my-list-wrap .el-message-box {\n  width: 650px;\n}\n.order-my-list-wrap .el-table__header thead th {\n  background-color: #ecf5ff;\n}\n.order-my-list-wrap .el-table .cell {\n  text-align: center;\n}\n",""])},640:function(e,t,a){var r=a(621);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(569)("b01e5ca2",r,!0)},676:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"order-my-list-wrap"},[a("section",{staticClass:"com-content-head"},[a("el-breadcrumb",{staticClass:"crumb-nav",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/order_my_list"}}},[e._v("订单管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("我的订单")])],1),e._v(" "),a("h6",[e._v("我的订单")])],1),e._v(" "),a("div",{staticClass:"sub-header com-content-body"},[a("el-form",{staticClass:"form-top",attrs:{inline:!0,model:e.search}},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.order_info_state,callback:function(t){e.$set(e.search,"order_info_state",t)},expression:"search.order_info_state"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.search.order_info,callback:function(t){e.$set(e.search,"order_info",t)},expression:"search.order_info"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"下单时间"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm",type:"datetime",placeholder:"选择开始时间"},model:{value:e.search.o_createTime_start,callback:function(t){e.$set(e.search,"o_createTime_start",t)},expression:"search.o_createTime_start"}}),e._v(" "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm",type:"datetime",placeholder:"选择结束时间"},model:{value:e.search.o_createTime_end,callback:function(t){e.$set(e.search,"o_createTime_end",t)},expression:"search.o_createTime_end"}})],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.order_user_state,callback:function(t){e.$set(e.search,"order_user_state",t)},expression:"search.order_user_state"}},e._l(e.typeState,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.search.order_user,callback:function(t){e.$set(e.search,"order_user",t)},expression:"search.order_user"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"订单状态"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.order_status,callback:function(t){e.$set(e.search,"order_status",t)},expression:"search.order_status"}},e._l(e.typeOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.searchBtnEvent(e.search)}}},[e._v("搜索")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{"span-method":e.objectSpanMethod,data:e.list.data,height:"550",border:""}},[a("el-table-column",{attrs:{width:"150",label:"订单编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.o_sn))]}}])}),e._v(" "),a("el-table-column",{staticClass:"ellipsis",attrs:{label:"收货人",width:"90"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"centerEllipsis"},[e._v(e._s(t.row.name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"f_phone",label:"商品信息",width:"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v("\n                      "+e._s(t.row.g_name)+"\n                      "),e._l(t.row.sku_spec,function(t,r){return a("div",{key:r},[e._v(e._s(t.spec)+"+"+e._s(t.spec_value))])})],2)]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"f_deviceInfo",label:"单价(元)"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                  "+e._s(Number(t.row.ct_price).toFixed(2))+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"f_deviceInfo",label:"数量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n                  "+e._s(t.row.ct_num)+"\n                ")]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"实付款(元)",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(Number(t.row.o_payAmount).toFixed(2)))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"优惠",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[0!=t.row.o_couponAmount?a("span",[e._v("优惠券 -"+e._s(Number(t.row.o_couponAmount).toFixed(2)))]):e._e(),e._v(" "),0!=t.row.o_couponAmount&&0!=t.row.o_cardAmount?a("hr",{staticStyle:{margin:"10px 0",background:"#ddd",height:"1px",border:"none"}}):e._e(),e._v(" "),0!=t.row.o_cardAmount?a("span",[e._v("购物卡 -"+e._s(Number(t.row.o_cardAmount).toFixed(2)))]):e._e(),e._v(" "),0==t.row.o_couponAmount&&0==t.row.o_cardAmount?a("span",[e._v("无")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"状态",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.o_status_name))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.handleClick(t.row)}}},[e._v("查看")]),e._v(" "),"1"==t.row.o_status?a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){e.gotoDeliveryPage(t.row)}}},[e._v("发货")]):e._e()]}}])})],1),e._v(" "),a("div",{staticClass:"block pag"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":10,layout:"total, prev, pager, next, jumper",total:parseInt(e.total)},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)],1)])},staticRenderFns:[]}}});