webpackJsonp([11],{575:function(e,t,a){a(634);var s=a(94)(a(596),a(670),null,null);e.exports=s.exports},596:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{time1:"",time2:"",search:{param1:"1",goods_status:"0",pagesize:"10",page:"1"},list:[],total:"",currentPage:1,index:"",states:"",options:[{value:"1",label:"商品名称"},{value:"2",label:"商品编号"}],optionsprev:[{value:"0",label:"全部"},{value:"1",label:"已上架"},{value:"2",label:"待审核"},{value:"3",label:"审核失败"},{value:"4",label:"已下架 "}]}},methods:{gotoEditorPage:function(e){e?this.$router.push({path:"/goods_add",query:{id:e.g_id}}):this.$router.push("/goods_add")},deleteList:function(e,t){var a=this;this.$confirm("确定删除?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.$axios.post("/merchant/Goods/del",{g_id:e.g_id}).then(function(e){var s=e.data;0==s.code?a.list.splice(t,1):a.$message.error(s.message)})})},gotoStandDown:function(e){var t=this;this.$confirm("确定"+("1"==e.g_is_shelves?"下架":"上架")+"该商品?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$axios.post("/merchant/Goods/setShelves",{g_id:e.g_id}).then(function(a){var s=a.data;0==s.code?(t.$message({message:"恭喜你，操作成功！",type:"success"}),"1"==e.g_is_shelves?(e.g_is_shelves="0",e.goods_status="已下架"):(e.g_is_shelves="1",e.goods_status="已上架")):t.$message.error(s.message)})})},splitRenderTime:function(e){return e.split(" ")[0]},enquiriesFunction:function(e){var t=this;this.$axios.post("/merchant/Goods/getList",e).then(function(e){var a=e.data;if(0==a.code){var s=a.data||{};t.list=s.data&&s.data instanceof Array?s.data:[],t.total=s.total}})},searchBtnEvent:function(){this.search.page=1,this.enquiriesFunction(this.search)},handleCurrentChange:function(e){this.currentPage=parseInt(e),this.search.page=this.currentPage,this.enquiriesFunction(this.search)},handleSizeChange:function(e){this.search.pagenum=e,this.search.page="1",this.enquiriesFunction(this.search)}},created:function(){this.enquiriesFunction(this.search)}}},615:function(e,t,a){t=e.exports=a(568)(!1),t.push([e.i,"\n.goods-list-wrap .el-message-box {\n  width: 650px;\n}\n.goods-list-wrap .failure-reason {\n  text-decoration: underline;\n  color: #959595;\n  font-size: 12px;\n  margin-left: 10px;\n  cursor: default;\n}\n.goods-list-wrap .el-table__header thead th {\n  background-color: #ecf5ff;\n}\n.goods-list-wrap .el-table__body-wrapper .del {\n  color: #fa5555;\n}\n.goods-list-wrap .el-table__body-wrapper .blue {\n  color: #409EFF;\n}\n",""])},634:function(e,t,a){var s=a(615);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a(569)("001bfcc4",s,!0)},670:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"goods-list-wrap"},[a("section",{staticClass:"com-content-head"},[a("el-breadcrumb",{staticClass:"crumb-nav",attrs:{"separator-class":"el-icon-arrow-right"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/goods_my_list"}}},[e._v("商品管理")]),e._v(" "),a("el-breadcrumb-item",[e._v("我的商品")])],1),e._v(" "),a("h6",[e._v("我的商品")])],1),e._v(" "),a("div",{staticClass:"sub-header com-content-body"},[a("el-form",{staticClass:"form-top",attrs:{inline:!0,model:e.search}},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:e.search.param1,callback:function(t){e.$set(e.search,"param1",t)},expression:"search.param1"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"请输入内容"},model:{value:e.search.param1_data,callback:function(t){e.$set(e.search,"param1_data",t)},expression:"search.param1_data"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"创建时间"}},[a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm",type:"datetime",placeholder:"选择开始时间"},model:{value:e.search.start_time,callback:function(t){e.$set(e.search,"start_time",t)},expression:"search.start_time"}}),e._v(" "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm",type:"datetime",placeholder:"选择结束时间"},model:{value:e.search.end_time,callback:function(t){e.$set(e.search,"end_time",t)},expression:"search.end_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品状态",placeholder:"请选择"}},[a("el-select",{model:{value:e.search.goods_status,callback:function(t){e.$set(e.search,"goods_status",t)},expression:"search.goods_status"}},e._l(e.optionsprev,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:e.searchBtnEvent}},[e._v("搜索")]),e._v(" "),a("el-button",{attrs:{type:"primary",plain:""},on:{click:e.gotoEditorPage}},[e._v("添加商品")])],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%","text-align":"center"},attrs:{data:e.list,height:"550",border:""}},[a("el-table-column",{attrs:{width:"130",label:"编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.$index+10*(e.currentPage-1)+1))]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"100",label:"商品编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.g_id))]}}])}),e._v(" "),a("el-table-column",{staticClass:"ellipsis",attrs:{label:"商品信息"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"centerEllipsis"},[e._v(e._s(t.row.g_name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"f_phone",label:"单价(元)"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(Number(t.row.g_price).toFixed(2)))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"f_deviceInfo",label:"销量"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.g_real_salenum))]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"f_deviceInfo",label:"库存"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"devoceInfo"},[e._v(e._s(t.row.total_stock_num))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{class:2==t.row.g_review_status?"del":1==t.row.g_review_status?"blue":""},[e._v(e._s(t.row.goods_status))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.create_time))]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:e._u([{key:"default",fn:function(t){return[0==t.row.g_review_status?a("div",{staticStyle:{"text-align":"center"}},[e._v("-")]):a("div",[a("el-button",{staticClass:"edit",attrs:{type:"text",size:"small"},on:{click:function(a){e.gotoEditorPage(t.row)}}},[e._v("编辑")]),e._v(" "),1==t.row.g_review_status?a("el-button",{staticClass:"opera",attrs:{type:"text",size:"small"},on:{click:function(a){e.gotoStandDown(t.row)}}},[e._v(e._s("1"==t.row.g_is_shelves?"下架":"上架"))]):e._e(),e._v(" "),a("el-button",{staticClass:"del",attrs:{type:"text",size:"small"},on:{click:function(a){e.deleteList(t.row,t.$index)}}},[e._v("删除")]),e._v(" "),2==t.row.g_review_status?a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.row.g_review_reject,placement:"bottom-end"}},[a("span",{staticClass:"failure-reason"},[e._v("查看失败原因")])]):e._e()],1)]}}])})],1),e._v(" "),a("div",{staticClass:"block pag"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":10,layout:"total, prev, pager, next, jumper",total:parseInt(e.total)},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t}}})],1)],1)])},staticRenderFns:[]}}});